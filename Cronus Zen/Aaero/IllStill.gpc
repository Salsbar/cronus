const int32 times[] = {0,45646,46146,46196,46213,46246,46263,46280,46313,46330,46363,46380,46413,46430,46463,46480,46496,46513,46530,46547,46563,46580,46847,46864,46930,46947,46980,46997,47014,47047,47064,47097,47114,47147,47164,47181,47214,47231,47247,47264,47548,47598,47631,47664,47681,47698,47714,47731,47748,47781,47798,47831,47848,47881,47898,47915,47931,47948,47965,48232,48298,48315,48332,48365,48382,48415,48432,48448,48465,48498,48515,48532,48549,48565,48582,48599,48615,48632,48649,48916,48932,48966,48999,49016,49032,49066,49082,49099,49116,49132,49149,49183,49199,49216,49233,49249,49266,49283,49299,49316,49333,49349,49370,49371,49383,49399,49416,49433,49449,49466,49483,49499,49516,49550,49566,49600,49616,49650,49666,49683,49700,49716,49750,49783,49833,49850,49883,49917,49933,49950,49983,50000,50017,50033,50067,50083,50100,50117,50150,50167,50184,50234,50250,50534,50551,50584,50617,50634,50651,50667,50684,50717,50734,50751,50767,50801,50817,50834,50851,50884,50901,50918,50934,50951,51218,51251,51268,51318,51351,51368,51385,51418,51435,51468,51485,51518,51535,51585,51602,51618,51652,51935,51985,52035,52052,52085,52102,52135,52152,52186,52202,52252,52269,52319,52336,52352,52603,52636,52653,52669,52703,52719,52753,52769,52786,52803,52819,52836,52853,52870,52886,52903,52936,52953,52970,52986,53003,53020,53063,53064,53103,53120,53153,53170,53187,53203,53220,53237,53253,53270,53303,53320,53337,53353,53370,53387,53403,53420,53453,53470,53487,53520,53554,53570,53604,53620,53654,53670,53687,53704,53720,53737,53754,53770,53787,53804,53837,53854,53871,53887,53921,53937,53954,54221,54254,54288,54321,54338,54371,54388,54421,54438,54471,54488,54505,54521,54538,54555,54571,54588,54605,54621,54638,54655,54922,54955,54972,54988,55022,55038,55072,55088,55105,55122,55155,55172,55189,55205,55222,55239,55272,55289,55305,55322,55339,55622,55656,55672,55706,55722,55739,55772,55789,55822,55839,55873,55889,55923,55939,55956,55973,55989,56006,56023,56039,56306,56323,56356,56390,56406,56423,56456,56473,56523,56540,56607,56623,56657,56673,56690,56723,56757,56758,56773,56790,56840,56857,56874,56890,56924,56940,56957,56974,57007,57024,57040,57057,57090,57107,57124,57140,57174,57224,57241,57274,57291,57324,57341,57357,57374,57391,57407,57441,57457,57474,57491,57508,57524,57541,57558,57574,57591,57608,57624,57641,57925,57958,57975,58008,58025,58058,58075,58091,58108,58125,58141,58175,58192,58208,58225,58258,58275,58292,58325,58342,58609,58625,58659,58709,58725,58742,58759,58775,58809,58825,58859,58876,58892,58909,58926,58942,58959,58976,58992,59026,59068,59069,59076,59092,59126,59142,59159,59176,59193,59209,59226,59243,59259,59293,59309,59343,59359,59376,59393,59409,59443,59459,59476,59493,59760,59776,59793,59826,59860,59877,59893,59927,59943,59960,59977,60010,60027,60060,60077,60110,60127,60143,60160,60177,60452,60453,60460,60477,60494,60544,60577,60594,60627,60661,60694,60711,60761,60777,60811,60827,60861,60911,60928,60944,60978,61028,61044,61061,61078,61094,61111,61128,61144,61161,61178,61211,61228,61245,61261,61278,61295,61311,61328,61612,61628,61662,61678,61712,61728,61745,61762,61795,61812,61828,61845,61862,61879,61895,61912,61929,61945,61962,61979,62012,62029,62312,62346,62362,62379,62412,62429,62462,62479,62496,62513,62546,62563,62596,62613,62629,62646,62663,62679,62696,62713,62729,62996,63013,63046,63080,63113,63130,63146,63163,63197,63213,63247,63263,63280,63297,63313,63330,63363,63413,63697,63714,63747,63764,63797,63814,63847,63864,63897,63914,63947,63964,63997,64014,64031,64047,64064,64081,64097,64145,64146,64147,64181,64198,64214,64231,64248,64281,64298,64331,64348,64381,64398,64431,64448,64464,64481,64515,64531,64565,64598,64615,64648,64698,64731,64748,64765,64798,64815,64831,64848,64898,64915,64965,64982,64998,65015,65032,65299,65315,65332,65365,65415,65432,65449,65465,65499,65516,65532,65549,65566,65582,65599,65616,65682,65699,65716,65732,65983,65999,66016,66033,66066,66083,66099,66116,66133,66149,66183,66200,66216,66233,66250,66266,66283,66300,66333,66366,66400,66416,66717,66750,66783,66800,66817,66850,66867,66884,66900,66950,66967,66984,67000,67034,67067,67084,67100,67384,67451,67484,67518,67534,67551,67568,67584,67601,67634,67651,67668,67684,67718,67751,67768,67784,67801,67835,67837,67838,67851,67885,67901,67918,67951,67968,67985,68001,68035,68051,68085,68101,68118,68135,68168,68202,68218,68235,68252,68268,68302,68318,68368,68402,68418,68435,68452,68485,68502,68519,68535,68552,68569,68602,68619,68685,68702,68719,69002,69052,69102,69119,69136,69169,69186,69219,69236,69253,69269,69303,69319,69336,69353,69369,69403,69419,69686,69703,69736,69753,69786,69803,69820,69837,69853,69870,69887,69903,69920,69937,69953,69987,70003,70020,70037,70053,70070,70087,70103,70387,70420,70437,70504,70521,70537,70554,70571,70587,70621,70637,70654,70671,70704,70721,70737,70754,70771,70787,70804,71071,71104,71121,71154,71171,71188,71205,71221,71238,71255,71271,71288,71321,71338,71355,71371,71388,71405,71438,71455,71471,71488,71505,71529,71530,71572,71588,71605,71622,71638,71672,71688,71705,71722,71755,71772,71805,71822,71839,71855,71889,71955,72005,72022,72055,72105,72122,72155,72172,72189,72206,72239,72256,72289,72306,72339,72356,72372,72389,72406,72689,72706,72739,72789,72806,72823,72840,72873,72890,72906,72923,72956,72973,73006,73023,73040,73056,73073,73090,73123,73390,73423,73440,73457,73490,73507,73524,73540,73574,73590,73607,73624,73640,73657,73674,73690,73724,73757,73774,73790,73824,73841,73847,73848,73857,73991,74107,74157,74208,74224,74258,74341,74474,74508,74842,74892,74908,75125,75192,75275,75309,75375,75442,75475,75559,75626,75692,75726,75742,75792,75809,75826,75843,75859,75876,75909,75926,75943,75959,75976,75993,76026,76043,76059,76093,76109,76376,76393,76426,76443,76476,76493,76527,76543,76577,76593,76627,76643,76677,76693,76727,76743,76760,76777,76793,77077,77094,77144,77177,77211,77227,77261,77277,77311,77327,77361,77377,77411,77444,77461,77477,77494,77778,77794,77861,77878,77911,77928,77961,77978,78011,78028,78061,78078,78111,78161,78178,78462,78495,78529,78562,78579,78612,78629,78662,78679,78712,78729,78779,78795,78829,78846,78862,78879,78910,78911,78912,78929,78946,78962,78979,79012,79029,79062,79079,79112,79129,79162,79179,79213,79229,79263,79279,79313,79379,79413,79429,79479,79496,79530,79546,79580,79596,79630,79646,79680,79696,79730,79763,79796,80080,80097,80130,80147,80180,80197,80230,80247,80280,80297,80330,80347,80380,80397,80414,80430,80464,80480,80497,80797,80864,80881,80898,80948,80964,81014,81031,81064,81081,81114,81131,81148,81164,81181,81465,81481,81498,81532,81548,81565,81582,81598,81615,81648,81665,81682,81698,81715,81732,81748,81765,81782,81798,81832,81865,81882,82149,82165,82182,82216,82232,82266,82282,82299,82316,82332,82349,82382,82399,82432,82449,82466,82482,82499,82516,82549,82566,82608,82609,82616,82633,82649,82666,82683,82699,82733,82749,82766,82783,82816,82833,82866,82883,82900,82916,82933,82950,82983,83000,83050,83100,83116,83133,83166,83183,83217,83233,83250,83267,83300,83317,83333,83350,83367,83383,83417,83433,83450,83467,83483,83767,83800,83834,83867,83884,83901,83934,83951,83967,83984,84017,84034,84051,84067,84084,84101,84117,84134,84151,84168,84184,84468,84501,84551,84568,84585,84601,84618,84651,84668,84701,84718,84751,84768,84785,84801,84818,84835,84852,84868,84885,85152,85185,85202,85219,85235,85285,85302,85335,85369,85385,85402,85435,85452,85469,85485,85519,85569,85836,85869,85903,85936,85953,85969,85986,86003,86019,86053,86069,86086,86103,86119,86136,86153,86170,86203,86220,86236,86253,86295,86296,86336,86353,86370,86386,86403,86420,86453,86470,86486,86503,86520,86537,86570,86587,86603,86620,86653,86670,86687,86737,86787,86820,86854,86870,86904,86920,86937,86954,86987,87004,87020,87037,87070,87087,87104,87154,87187,87454,87471,87504,87538,87571,87588,87604,87621,87638,87654,87688,87704,87738,87754,87771,87788,87804,87821,87871,88155,88188,88205,88238,88255,88288,88305,88322,88338,88372,88388,88422,88438,88455,88472,88505,88522,88539,88589,88605,88610,88611,88655,88672,88689,88722,88956,88972,88989,89039,89089,89289,89306,89339,89373,89389,89506,89523,89556,89573,89606,89806,90040,90073,90390,90407,90440,90457,90490,90524,90541,90557,90574,90607,90624,90641,90657,90691,90707,90741,90757,90774,90791,90807,90824,90874,91141,91175,91191,91225,91241,91275,91291,91325,91341,91358,91375,91408,91425,91441,91458,91475,91491,91508,91525,91558,91575,91842,91859,91892,91909,91959,91975,91992,92009,92025,92042,92092,92109,92125,92142,92176,92192,92226,92259,92543,92593,92643,92659,92693,92709,92726,92743,92759,92776,92809,92826,92860,92876,92893,92926,92943,92960,93227,93260,93310,93327,93360,93377,93393,93410,93443,93460,93477,93493,93510,93527,93544,93560,93577,93594,93679,93680,93694,93710,93727,93744,93760,93777,93794,93810,93827,93844,93861,93877,93911,93927,93944,93961,93977,93994,94011,94044,94061,94094,94178,94194,94244,94261,94278,94294,94328,94344,94361,94378,94394,94411,94428,94444,94461,94478,94494,94511,94528,94561,94845,94862,94878,94912,94945,94962,94978,95012,95028,95045,95062,95095,95112,95128,95145,95179,95195,95212,95229,95262,95529,95562,95579,95612,95629,95662,95679,95712,95729,95746,95762,95796,95812,95829,95846,95879,95929,95946,96230,96263,96280,96330,96346,96380,96396,96446,96463,96496,96513,96547,96563,96597,96613,96630,96647,96914,96947,96964,97014,97030,97047,97064,97097,97114,97147,97164,97197,97214,97264,97281,97314,97364,97376,97377,97397,97414,97431,97464,97481,97497,97548,97564,97598,97614,97648,97664,97698,97731,97748,97764,97798,97831,97865,97881,97915,97931,97965,97981,97998,98015,98031,98048,98065,98081,98098,98115,98148,98165,98215,98232,98265,98532,98565,98582,98615,98632,98649,98665,98699,98715,98732,98749,98765,98782,98799,98815,98849,98866,98882,98899,98949,99216,99233,99249,99266,99299,99316,99333,99349,99366,99399,99416,99433,99449,99483,99499,99516,99533,99566,99583,99600,99616,99650,99917,99933,99967,99983,100033,100050,100067,100083,100117,100133,100167,100184,100200,100217,100250,100267,100300,100317,100334,100601,100634,100667,100701,100717,100767,100784,100817,100834,100868,100884,100918,100934,100951,100968,100984,101001,101018,101068,101070,101071,101084,101101,101118,101134,101151,101168,101185,101218,101235,101268,101285,101335,101351,101418,101435,101468,101552,101618,101635,101668,101685,101718,101735,101768,101785,101835,101852,101885,101902,101919,101935,101952,102236,102252,102319,102336,102369,102386,102419,102436,102469,102486,102519,102536,102569,102586,102603,102619,102636,102653,102920,102936,102953,103020,103036,103070,103086,103120,103136,103170,103187,103203,103220,103270,103287,103303,103337,103385,103386,103387,103453,103720,103754,103770,103787,103837,103854,103937,104037,104054,104087,104104,104338,104354,104421,104438,104488,104988,104989,134268,134768,134818,134885,134902,134935,134952,134968,135002,135018,135052,135068,135135,135152,135169,135185,135452,135502,135536,135569,135586,135602,135636,135652,135686,135702,135752,135769,135802,135819,135853,135869,135886,136153,136220,136253,136286,136303,136320,136336,136370,136386,136403,136420,136453,136470,136503,136520,136537,136570,136854,136887,136937,136954,136970,137004,137020,137054,137070,137087,137104,137137,137154,137171,137187,137204,137221,137237,137254,137271,137538,137571,137588,137621,137638,137671,137688,137704,137721,137738,137754,137788,137804,137821,137838,137871,137888,137905,137921,137938,137955,137988,138005,138021,138038,138055,138071,138088,138105,138121,138155,138172,138205,138222,138255,138272,138305,138322,138338,138388,138422,138456,138457,138488,138522,138555,138589,138605,138622,138639,138672,138689,138722,138739,138755,138772,138805,138822,138839,138856,138872,139139,139156,139173,139189,139239,139256,139289,139306,139339,139356,139389,139406,139423,139439,139473,139489,139506,139523,139540,139556,139573,139840,139873,139890,139923,139940,139957,139973,139990,140040,140057,140090,140107,140140,140157,140190,140207,140224,140257,140274,140541,140591,140641,140657,140674,140691,140707,140741,140757,140791,140807,140841,140858,140874,140891,140908,140924,140958,141225,141275,141291,141341,141358,141375,141391,141425,141441,141458,141475,141491,141508,141542,141558,141575,141592,141608,141625,141658,141725,141742,141758,141775,141808,141825,141842,141859,141875,141892,141925,141942,141959,141975,141992,142009,142042,142059,142092,142138,142139,142142,142176,142209,142226,142242,142259,142276,142292,142309,142326,142342,142359,142376,142392,142409,142442,142459,142476,142492,142509,142543,142559,142576,142843,142860,142910,142926,142976,142993,143010,143026,143060,143076,143110,143126,143143,143160,143193,143210,143227,143243,143260,143544,143577,143610,143627,143644,143660,143694,143710,143744,143760,143794,143810,143827,143844,143877,143894,143911,143944,144228,144244,144294,144311,144344,144378,144394,144461,144478,144494,144578,144595,144611,144645,144661,144928,144962,144978,145012,145028,145045,145078,145095,145128,145145,145195,145212,145279,145295,145329,145345,145395,145429,145445,145462,145495,145562,145596,145612,145629,145662,145679,145729,145746,145762,145779,145796,145841,145842,145846,145863,145913,145929,145946,145963,145996,146013,146029,146046,146063,146079,146096,146113,146146,146163,146180,146196,146213,146230,146246,146263,146530,146563,146597,146630,146647,146663,146680,146697,146713,146747,146763,146780,146797,146813,146830,146864,146880,146897,146914,146947,147231,147264,147297,147331,147347,147364,147397,147414,147431,147447,147481,147497,147531,147548,147581,147598,147614,147631,147648,147714,147731,147748,147781,147798,147831,147848,147865,147881,147915,147931,147948,147965,147981,147998,148031,148048,148081,148098,148342,148343,148382,148398,148432,148448,148498,148515,148532,148549,148582,148599,148632,148649,148665,148682,148715,148732,148765,148782,148799,149066,149116,149132,149149,149183,149199,149233,149249,149299,149316,149399,149416,149433,149466,149540,149541,149550,149583,149633,149650,149666,149700,149716,149733,149750,149766,149800,149816,149850,149867,149917,149950,150234,150267,150284,150317,150334,150367,150384,150400,150417,150450,150467,150484,150501,150517,150534,150551,150567,150601,150617,150634,150651,150918,150951,150968,151018,151034,151068,151084,151101,151118,151151,151168,151185,151201,151235,151251,151268,151285,151301,151318,151335,151618,151652,151668,151685,151702,151718,151735,151752,151785,151802,151835,151852,151885,151902,151919,151935,151952,151969,151985,152002,152019,152035,152291,152292,152302,152303,152304,152336,152369,152452,152469,152486,152503,152536,152553,152569,152586,152619,152636,152653,152669,152686,152703,152719,152769,152786,152803,152819,152853,152870,152920,152936,152970,152986,153036,153053,153086,153120,153136,153153,153187,153219,153220,153237,153287,153320,153337,153370,153387,153437,153453,153470,153487,153504,153520,153537,153570,153587,153604,153637,153654,153921,153937,153971,153987,154021,154037,154054,154071,154104,154121,154137,154154,154171,154188,154221,154238,154254,154271,154288,154304,154321,154338,154595,154596,154605,154606,154607,154621,154638,154688,154705,154721,154738,154755,154771,154805,154821,154838,154855,154872,154888,154922,154938,154955,154972,154988,155022,155305,155355,155372,155422,155439,155455,155472,155506,155522,155556,155572,155589,155606,155639,155656,155672,155689,155722,156006,156039,156056,156089,156106,156123,156156,156173,156190,156206,156240,156256,156273,156290,156323,156340,156356,156373,156406,156423,156456,156473,156490,156507,156523,156540,156590,156607,156623,156640,156673,156690,156723,156740,156757,156773,156790,156823,156874,156907,156911,156912,156940,156974,157024,157040,157057,157107,157124,157157,157174,157207,157224,157291,157307,157324,157341,157624,157658,157708,157724,157741,157774,157791,157824,157841,157858,157875,157891,157908,157925,157975,158008,158025,158282,158283,158292,158294,158295,158308,158325,158358,158408,158425,158458,158475,158492,158509,158525,158542,158575,158592,158609,158625,158642,158659,158675,158692,158709,158725,158992,159042,159059,159092,159109,159142,159159,159193,159209,159259,159276,159293,159309,159343,159359,159376,159393,159409,159693,159710,159743,159793,159810,159826,159860,159877,159910,159927,159960,159977,159993,160010,160027,160043,160060,160077,160093,160143,160160,160177,160194,160210,160227,160277,160294,160310,160327,160360,160377,160410,160427,160444,160460,160494,160561,160577,160607,160608,160611,160627,160644,160694,160711,160727,160744,160761,160794,160811,160844,160861,160894,160911,160944,160961,161011,161028,161044,161311,161378,161395,161428,161445,161461,161512,161528,161545,161562,161595,161612,161645,161678,161695,161712,161728,161995,162045,162095,162112,162129,162145,162162,162196,162212,162246,162262,162279,162296,162329,162346,162362,162379,162396,162412,162446,162496,162513,162729,162813,162829,162913,162946,163030,163113,163130,163146,163180,163247,163263,163280,163313,163363,163463,163564,163597,163614,163680,163730,163897,163931,164014,164031,164081,164164,164231,164248,164264,164281,164298,164300,164301,164314,164331,164381,164398,164448,164464,164481,164498,164548,164565,164598,164615,164648,164698,164715,164998,165015,165048,165098,165115,165132,165148,165165,165182,165215,165232,165265,165282,165315,165332,165365,165382,165399,165415,165682,165699,165716,165782,165799,165832,165849,165883,165899,165966,165983,166049,166066,166083,166099,166116,166383,166416,166433,166466,166483,166517,166533,166550,166567,166600,166617,166633,166650,166667,166683,166717,166733,166750,166767,166783,166800,167067,167100,167117,167167,167184,167201,167217,167251,167267,167284,167301,167334,167351,167367,167384,167417,167467,167484,167518,167534,167551,167568,167584,167618,167634,167668,167684,167701,167718,167768,167784,167801,167818,167851,167885,167901,167918,167985,167988,167989,168018,168051,168118,168135,168168,168185,168218,168235,168268,168285,168302,168318,168335,168352,168368,168402,168418,168685,168719,168752,168785,168802,168852,168869,168886,168902,168952,168969,168986,169002,169036,169052,169069,169086,169102,169386,169436,169453,169469,169486,169503,169536,169553,169603,169620,169703,169720,169770,169786,169803,170070,170103,170120,170170,170187,170204,170220,170254,170270,170287,170304,170337,170354,170370,170387,170454,170470,170487,170787,170821,170871,170888,170921,170938,170954,170971,171004,171021,171038,171054,171088,171104,171121,171138,171154,171171,171205,171238,171255,171288,171305,171321,171338,171371,171388,171421,171438,171471,171488,171522,171538,171572,171622,171655,171684,171685,171688,171738,171788,171822,171839,171872,171889,171922,171939,171972,171989,172022,172072,172105,172372,172422,172439,172472,172489,172506,172539,172556,172573,172589,172639,172656,172673,172689,172723,172739,172756,172773,172789,173073,173123,173156,173207,173223,173257,173273,173307,173323,173373,173390,173423,173440,173457,173473,173490,173774,173824,173874,173907,173941,173957,173991,174007,174057,174074,174107,174124,174141,174157,174174,174474,174508,174525,174558,174575,174608,174625,174641,174658,174691,174708,174725,174741,174775,174791,174808,174825,174842,174892,174908,174925,174942,174958,174975,174992,175025,175042,175058,175075,175108,175125,175142,175158,175192,175209,175225,175242,175275,175342,175376,175377,175392,175442,175475,175509,175526,175542,175559,175592,175609,175659,175676,175709,175726,175759,175776,175792,176076,176093,176143,176210,176226,176276,176293,176343,176360,176376,176393,176410,176426,176443,176460,176476,176493,176760,176810,176844,176877,176894,176927,176944,176977,176994,177027,177044,177060,177077,177110,177127,177144,177160,177177,177194,177227,177344,177394,177477,177511,177578,177594,177661,177761,178178,178195,178328,178495,178529,178662,178679,178745,178862,178946,179012,179060,179061,179079,179129,179146,179162,179179,179196,179213,179246,179263,179279,179296,179329,179346,179363,179379,179413,179429,179446,179463,179479,179496,179763,179796,179830,179863,179880,179897,179913,179930,179963,179980,180013,180030,180047,180063,180097,180113,180147,180180,180480,180514,180581,180597,180614,180631,180664,180681,180714,180731,180747,180764,180797,180814,180831,180864,181148,181198,181215,181248,181265,181298,181315,181348,181365,181381,181398,181431,181448,181481,181498,181532,181548,181565,181849,181865,181882,181915,181982,181999,182065,182082,182115,182132,182165,182182,182199,182216,182232,182249,182282,182299,182316,182349,182366,182382,182399,182416,182449,182466,182482,182499,182533,182549,182583,182599,182616,182666,182699,182758,182759,182799,182833,182866,182900,182916,182966,182983,183050,183066,183100,183116,183150,183166,183183,183467,183500,183550,183567,183600,183617,183634,183650,183684,183700,183734,183750,183767,183784,183800,183817,183851,183867,183884,184139,184140,184151,184152,184153,184168,184218,184268,184284,184301,184334,184351,184368,184401,184418,184451,184468,184501,184518,184535,184551,184568,184852,184935,184952,184985,185002,185018,185052,185068,185118,185135,185169,185185,185202,185235,185252,185269,185536,185569,185586,185619,185669,185686,185736,185752,185802,185819,185853,185869,185886,185903,185919,185936,185953,186003,186019,186053,186069,186103,186119,186153,186170,186203,186220,186253,186270,186303,186320,186353,186386,186453,186460,186461,186470,186486,186553,186570,186587,186637,186653,186687,186703,186737,186753,186787,186803,186837,186870,187154,187171,187204,187254,187271,187287,187321,187337,187354,187371,187404,187421,187454,187471,187504,187521,187538,187554,187571,187855,187921,188005,188021,188088,188105,188155,188172,188188,188205,188222,188255,188539,188639,188655,188705,188722,188772,188789,188839,188856,188939,188956,189232,189233,189239,189240,189241,189339,189356,189406,189456,189523,189540,189573,189606,189623,189656,189690,189706,189723,189756,189773,189823,189840,189907,189923,189973,189990,190040,190057,190073,190151,190152,190174,190224,190257,190324,190340,190457,190474,190490,190507,190524,190557,190574,190858,190924,190941,190991,191008,191041,191058,191091,191108,191158,191175,191208,191225,191241,191258,191542,191625,191658,191708,191725,191742,191875,191892,191942,191959,192025,192075,192092,192142,192159,192192,192209,192226,192242,192292,192309,192359,192376,192409,192426,192459,192492,192509,192526,192576,192593,192626,192643,192693,192726,192759,192843,192860,192893,192910,192960,192993,193033,193034,193043,193060,193126,193177,193210,193227,193260,193310,193327,193343,193843,193844}
const int16 angles[] = {-1,181,181,196,204,214,222,234,248,259,269,279,288,296,306,314,318,320,328,333,344,348,358,350,332,318,305,300,285,274,264,254,246,236,228,224,218,209,204,194,188,201,216,230,243,250,260,265,274,282,290,300,308,316,318,328,332,338,348,358,334,330,318,304,292,281,271,266,257,248,240,236,228,224,218,216,207,202,194,180,188,196,210,214,228,240,252,257,267,272,280,288,296,301,308,312,318,322,330,335,344,348,359,0,6,12,20,24,34,42,52,58,68,78,87,96,106,114,122,126,133,136,149,158,181,184,195,206,211,222,236,250,255,265,274,282,286,296,304,312,316,332,340,359,354,341,332,321,316,308,294,283,272,268,260,250,242,236,230,222,216,212,202,196,180,188,197,212,228,235,248,260,270,280,290,298,306,320,326,330,346,352,338,316,302,290,280,270,260,252,242,230,222,209,197,193,180,190,194,203,212,224,237,250,254,265,269,278,282,290,294,302,310,318,320,328,331,341,359,0,16,26,37,50,55,65,70,80,84,94,102,110,114,120,124,132,135,143,150,159,164,180,188,196,204,213,226,239,244,256,260,269,274,282,286,294,302,310,314,320,328,339,346,359,350,336,328,316,302,290,278,269,260,250,246,238,234,226,222,220,216,207,196,193,184,194,198,206,216,229,242,254,260,269,278,286,292,300,304,312,320,326,329,340,345,354,344,336,327,320,307,294,282,271,262,252,244,236,226,222,220,212,207,197,193,181,190,199,212,218,230,242,254,270,280,300,308,318,320,329,341,359,0,8,12,34,47,53,63,74,84,88,97,106,114,118,125,132,139,144,151,160,180,190,197,206,214,226,233,245,251,261,271,280,284,292,296,304,307,315,318,324,328,337,344,354,346,338,328,318,304,292,286,276,271,262,254,246,242,234,226,220,216,202,193,180,188,196,216,220,235,241,254,264,273,282,290,296,304,308,316,320,322,326,346,359,0,2,12,26,38,44,50,60,66,76,80,90,98,106,115,122,126,133,136,148,152,162,166,180,184,193,201,216,220,234,248,258,263,272,280,290,298,308,316,322,326,335,341,359,0,0,10,16,42,54,65,76,92,102,112,124,132,139,148,158,181,184,193,202,222,233,240,250,256,265,270,278,282,290,298,306,310,318,320,328,331,341,358,350,342,334,324,311,305,294,282,272,268,260,254,246,242,234,230,223,222,218,201,196,183,196,202,209,222,233,246,258,263,272,280,290,298,306,310,318,320,324,333,338,347,358,350,342,328,318,304,297,286,275,266,256,248,244,236,232,224,218,195,182,192,200,209,221,233,246,258,268,278,286,296,304,312,316,318,328,331,341,359,0,0,16,22,30,36,50,61,72,82,92,102,110,118,126,130,137,146,154,163,181,184,193,211,222,231,244,258,262,269,280,294,304,318,320,329,335,346,358,354,346,338,318,305,299,288,277,268,264,255,252,244,239,232,212,205,196,193,182,184,188,196,204,214,220,232,238,250,260,269,274,282,286,294,298,306,314,324,337,347,346,338,324,318,305,292,280,276,266,254,244,240,232,224,214,204,199,183,206,222,233,246,252,263,267,276,285,294,298,306,314,324,331,336,346,359,359,0,3,22,27,40,52,62,68,78,87,96,104,114,118,125,132,145,148,156,163,179,181,188,202,218,222,230,244,256,266,271,280,284,292,300,308,326,335,340,356,342,320,314,300,288,276,266,257,252,244,236,228,224,218,214,199,194,183,187,200,204,218,224,236,242,254,258,268,272,281,285,294,302,309,312,318,322,330,334,344,356,344,339,314,300,294,283,278,268,260,252,246,238,230,222,221,216,209,198,194,182,192,200,210,219,224,231,244,250,261,265,274,283,292,296,304,308,316,321,329,334,344,348,359,0,20,24,36,42,54,64,75,80,89,98,106,114,123,126,134,142,166,183,192,202,222,233,246,258,263,272,280,290,298,306,314,321,326,334,339,358,354,340,326,313,305,292,281,272,267,258,250,242,234,224,220,218,214,204,194,188,195,200,209,220,233,239,250,261,271,276,284,288,296,300,308,316,326,333,343,353,358,359,0,2,16,27,34,38,42,44,52,65,68,100,104,108,126,132,140,144,149,156,158,166,173,184,194,202,216,229,236,248,254,264,273,281,286,294,298,307,314,320,324,338,347,359,352,343,334,326,314,300,288,277,267,258,248,240,232,224,218,214,204,199,182,192,204,221,234,246,258,269,278,288,296,304,314,324,328,338,343,355,346,328,316,301,288,278,268,258,250,240,232,224,206,199,184,194,206,217,231,244,256,266,276,286,294,308,316,322,331,336,346,359,0,0,4,16,20,30,44,55,66,77,87,96,106,114,122,130,137,146,155,181,192,199,214,226,240,252,264,273,282,292,300,308,317,328,342,356,351,338,334,322,309,296,284,273,263,254,246,237,228,224,222,205,200,192,193,214,222,236,256,266,282,290,300,308,317,324,328,337,342,353,348,342,334,324,320,305,300,288,278,269,265,256,252,244,240,232,228,221,216,198,194,183,188,196,204,212,224,236,242,254,259,269,278,286,296,304,308,316,320,322,335,345,359,0,2,11,18,28,34,47,58,68,74,83,92,100,110,118,122,129,132,139,148,156,173,192,196,204,214,226,238,250,256,267,276,284,288,296,300,308,316,322,326,335,340,358,345,335,320,316,302,290,278,273,264,256,248,242,234,230,223,222,217,209,204,194,184,198,212,222,231,238,250,261,271,281,290,298,307,312,320,322,328,333,342,346,358,347,343,337,328,308,294,282,266,262,252,244,236,232,223,218,195,182,191,204,212,224,231,243,250,260,269,278,282,290,294,302,306,314,320,328,332,342,359,0,16,26,32,44,50,60,70,80,84,94,98,106,114,121,124,132,139,148,152,171,188,202,210,221,235,248,254,264,273,282,286,296,304,312,315,331,347,359,352,342,329,320,305,298,286,281,272,262,254,246,237,232,226,222,220,196,183,195,202,211,220,235,248,254,264,273,282,290,300,304,312,320,326,329,352,359,359,0,4,6,10,12,36,36,41,44,50,68,70,74,76,80,90,92,94,98,100,118,139,144,173,176,171,182,194,204,212,217,230,242,254,259,268,278,286,295,304,308,316,320,322,344,358,350,342,334,324,312,298,286,276,271,262,254,244,240,232,228,221,220,215,198,193,182,190,198,206,222,236,242,254,260,269,282,292,296,304,312,318,328,346,354,340,318,305,292,282,277,268,264,256,246,238,230,222,220,211,200,194,182,194,208,219,232,244,250,262,271,280,284,292,296,304,308,316,318,322,359,0,6,14,20,29,34,47,52,62,68,77,82,90,98,106,111,118,122,129,133,144,151,161,194,198,214,226,233,244,256,266,270,279,283,292,295,302,306,314,318,324,328,341,358,352,344,336,320,314,300,288,277,273,264,254,246,242,234,226,220,216,210,193,180,190,199,208,218,230,244,256,266,270,279,288,296,300,308,316,332,341,356,347,338,322,311,297,285,269,258,250,241,232,224,218,209,204,194,180,190,198,213,226,232,244,255,265,276,284,293,302,314,322,330,354,359,0,8,14,24,36,44,56,74,85,96,106,114,122,130,143,146,154,165,180,189,198,206,214,228,240,246,257,262,271,276,284,288,296,304,312,324,333,346,357,348,340,332,320,314,302,290,280,274,266,262,254,248,240,232,225,221,220,196,180,184,188,198,206,216,220,228,241,252,264,268,278,286,294,298,306,314,320,324,330,347,358,350,342,334,318,305,298,286,276,266,258,248,244,236,228,222,214,205,194,180,188,202,211,222,244,256,266,276,286,294,304,312,316,318,326,330,341,358,359,0,8,14,24,30,42,48,58,68,78,88,98,110,119,136,146,155,189,208,220,233,246,258,267,277,286,300,310,318,324,328,334,344,356,348,329,318,303,290,279,269,258,250,241,232,224,222,214,209,198,194,181,186,194,214,227,241,252,264,274,284,292,296,304,318,324,328,343,359,0,0,9,38,42,44,46,50,54,62,72,74,76,80,102,106,110,114,118,118,-1,185,185,198,226,240,252,263,270,262,252,244,234,216,210,202,196,182,196,210,220,228,243,256,266,276,286,300,308,317,324,332,343,347,356,336,320,306,292,288,276,267,258,254,246,237,228,220,218,210,198,184,198,213,220,233,246,258,270,278,284,292,300,308,312,318,322,330,335,344,348,354,346,338,328,318,304,292,286,276,272,262,254,246,242,234,226,220,216,207,203,194,180,174,164,158,150,144,132,126,116,106,96,86,78,68,60,53,46,42,23,14,0,359,346,338,322,309,296,289,278,269,260,250,242,238,230,222,216,212,202,195,182,184,190,197,211,222,238,250,260,270,280,288,294,302,310,318,320,324,333,339,347,358,348,340,332,320,314,307,294,277,266,256,248,240,230,222,216,212,196,192,186,200,222,226,242,247,258,268,278,286,294,304,312,316,318,323,332,344,358,344,335,318,305,298,286,276,266,262,254,248,242,234,225,221,215,212,202,189,160,150,145,132,122,112,106,97,93,84,76,68,64,56,52,46,37,30,20,0,359,358,346,339,330,326,318,306,300,288,284,274,269,260,256,248,240,232,228,220,218,206,196,193,180,190,204,213,232,244,252,262,272,280,290,298,303,311,318,325,329,340,346,353,344,330,326,318,306,292,281,271,262,252,244,240,232,224,218,214,198,182,190,204,213,224,239,252,276,281,292,316,324,328,344,348,353,344,340,324,318,305,292,282,271,262,248,240,220,214,203,193,170,160,148,139,127,96,82,78,70,60,52,42,32,29,24,14,0,359,358,349,336,326,320,307,294,284,279,269,264,256,252,244,236,228,224,218,214,207,202,194,183,192,204,214,226,232,244,250,261,270,279,284,292,296,304,312,320,322,326,346,358,344,335,320,314,300,287,276,272,262,254,244,236,228,220,214,210,199,195,164,158,148,135,123,113,102,98,89,80,72,68,60,56,49,42,33,24,15,0,359,357,350,342,334,316,302,296,284,274,265,256,246,242,234,226,220,212,201,196,180,156,150,138,127,116,106,96,81,72,50,41,35,26,0,359,356,340,326,318,304,290,279,273,269,260,250,242,234,224,212,196,188,196,204,213,224,238,248,255,265,274,284,288,296,300,308,312,320,325,333,343,346,356,347,339,326,312,299,286,281,271,262,254,250,240,232,224,220,218,210,205,195,184,198,202,208,216,220,228,242,254,264,274,283,292,302,306,314,318,320,328,332,342,347,359,0,0,0,359,348,339,300,287,281,272,262,254,248,240,232,224,220,218,210,205,195,177,166,162,151,138,126,109,98,88,78,66,58,50,36,32,23,13,0,359,352,340,324,318,304,290,273,262,258,260,248,242,234,224,222,212,202,193,183,192,200,207,219,231,237,248,259,269,274,282,286,294,302,310,314,320,324,332,337,346,359,0,0,0,359,354,346,332,324,318,304,298,287,277,268,263,254,250,242,234,226,222,216,212,199,185,198,208,224,238,244,256,266,276,284,294,298,306,314,320,324,330,347,353,344,335,326,318,306,292,281,276,267,258,250,244,236,229,221,219,214,196,192,178,170,164,154,148,135,118,107,102,92,84,74,66,58,54,47,44,31,16,1,0,359,350,341,319,314,300,281,270,260,250,242,234,215,212,201,196,184,199,214,222,235,248,260,270,280,284,292,298,300,309,323,336,346,359,0,0,0,359,356,348,340,319,307,294,284,278,269,264,256,248,240,236,228,224,222,214,210,200,195,184,198,206,216,228,242,254,265,274,288,296,302,310,318,324,328,338,342,358,348,340,319,314,300,287,276,267,258,248,240,236,228,224,222,212,209,198,182,172,166,156,151,138,121,110,104,95,86,76,68,60,56,49,42,17,12,0,359,358,354,346,332,320,314,306,292,281,272,262,254,244,236,228,220,208,196,192,188,206,212,230,238,250,267,278,282,290,300,308,316,326,330,341,346,358,342,326,313,308,299,286,276,266,256,248,244,235,227,221,217,209,204,194,181,176,172,152,142,140,132,128,120,112,112,108,106,100,98,96,94,88,79,70,68,64,60,54,40,36,28,26,22,14,8,5,14,15,0,0,359,356,347,333,322,302,288,282,273,259,250,240,232,224,206,198,182,191,200,220,226,240,246,252,263,273,282,290,300,308,317,324,330,338,343,358,355,346,328,316,302,289,278,268,248,240,220,212,208,202,192,186,194,202,212,222,236,248,254,264,273,282,286,295,298,307,315,321,325,333,338,347,358,348,341,327,314,308,296,284,274,269,260,252,244,240,231,223,206,199,187,180,169,164,154,142,129,118,107,101,92,78,70,64,57,50,37,33,25,1,0,359,348,340,313,300,286,276,266,257,248,240,235,228,223,222,217,200,194,183,192,206,214,228,248,260,265,274,288,298,302,310,318,324,328,338,343,353,340,332,327,320,307,294,282,267,257,233,224,212,201,195,182,192,200,214,227,234,246,257,267,272,282,290,298,302,310,328,337,342,348,340,318,306,294,283,278,268,259,250,246,238,230,222,220,212,208,198,187,176,164,149,144,136,124,113,102,92,84,74,66,57,50,42,23,12,0,359,358,344,322,308,294,281,270,262,252,244,235,228,210,194,182,196,204,213,220,233,246,258,263,273,286,296,300,308,316,322,326,336,341,358,344,328,308,294,282,271,262,252,240,230,222,220,211,205,195,183,201,220,237,250,263,274,284,298,307,316,322,326,336,340,350,342,334,322,309,297,286,280,270,261,252,248,240,232,224,222,214,210,188,182,172,168,158,152,140,128,118,113,102,93,84,80,72,64,56,52,45,36,14,0,359,353,338,324,310,296,290,279,270,260,246,238,229,221,214,205,198,182,191,206,234,248,265,276,290,300,304,312,316,318,322,331,342,346,359,342,330,320,305,292,280,270,261,252,242,238,230,222,220,212,207,197,193,180,168,162,154,150,144,140,134,124,84,82,70,55,52,40,36,32,20,14,6,0,359,357,342,328,326,318,312,298,286,275,270,261,253,244,240,232,224,218,214,206,201,192,184,194,206,216,228,236,240,254,265,274,284,292,296,304,312,319,329,346,348,340,312,298,292,281,272,262,254,244,240,232,224,218,214,200,184,198,206,216,229,242,254,265,276,280,288,296,304,312,318,326,336,341,356,350,346,336,304,290,268,258,248,240,230,222,220,212,208,198,187,180,170,158,146,138,134,122,111,102,96,87,78,70,62,54,50,31,22,0,359,344,336,320,307,294,276,266,246,236,227,220,212,202,196,183,198,212,224,240,251,257,267,276,285,294,302,306,314,318,320,334,344,348,359,0,0,0,359,355,334,316,308,294,281,276,266,256,246,238,230,221,218,210,205,194,183,211,223,239,246,258,270,280,292,302,310,320,322,330,340,346,359,348,344,328,307,292,276,265,250,240,232,224,222,214,210,200,196,172,166,152,139,128,117,107,97,87,78,68,61,53,46,37,24,2,0,359,356,347,326,318,304,285,273,264,254,246,236,228,222,212,197,186,191,200,222,226,240,252,263,268,278,286,296,304,312,320,326,330,340,346,356,332,294,281,258,250,236,226,222,220,211,200,184,216,230,250,262,278,288,302,311,332,339,359,0,0,0,359,324,308,286,266,244,234,223,216,205,194,178,172,162,151,136,118,106,86,74,60,52,40,35,26,0,359,352,336,318,290,278,240,229,224,222,216,201,196,188,208,220,240,254,265,275,284,294,306,316,322,330,335,346,356,329,314,290,284,271,228,220,204,195,172,165,160,154,148,144,139,136,132,124,120,112,107,102,98,94,88,86,82,76,70,66,62,56,50,46,32,30,24,20,14,6,0,359,358,354,345,337,332,328,324,314,312,306,306,-1}
int maxIdx = 3472;
int bpm=130;
int ribbon_offset=0;

//deadzone for autoswirl set negative to disable
int deadzone=5;
int ms=0;
int ms_ribbon=0;
int running=0;

int idx=0;
int curAngle=-1;

int next_beat=0;
int beat_anticipate=0;
int autoswirl=0;

init {
	beat_anticipate=60000/(bpm*4);
}

main {
	ms+=get_rtime();
	if (get_val(XB1_VIEW)>0 && event_press(XB1_A)) {
		ms=0;
		idx=0;
		next_beat=0;
		cls_oled(0);
		running=1;
		putc_oled(1,82);
		putc_oled(2,117);
		putc_oled(3,110);
		puts_oled(40,20,2,3,1);
	}
	if (event_press(XB1_B)) {
		ms=0;
		idx=0;
		next_beat=0;
		cls_oled(0);
		running=0;
		putc_oled(1,83);
		putc_oled(2,116);
		putc_oled(3,111);
		putc_oled(4,112);
		puts_oled(30,20,2,4,1);
	}
	if (event_press(XB1_RB)) {ribbon_offset = ribbon_offset + 25;set_val(TRACE_1,ribbon_offset);}
	if (event_press(XB1_LB)) {ribbon_offset = ribbon_offset - 25;set_val(TRACE_1,ribbon_offset);}
	
	if (running) {
		set_val(TRACE_2,ms);
		ms_ribbon = ms + ribbon_offset;
		//advance until we reach the end or catch up with the time code
		while (idx<maxIdx && ms_ribbon>times[idx + 1]) {
			idx++;
		}
		//if we've reached the end of the ribbon, releast LS
		if (idx>=maxIdx || angles[idx]== -1) {
			curAngle=-1;
		} else {
			curAngle=angles[idx]+(angles[idx + 1]-angles[idx])*(ms_ribbon-times[idx])/(times[idx + 1]-times[idx]);
		}
		//set LS position if ribbon present
		if (curAngle>=0) set_polar(POLAR_LS,curAngle,32767);

		//shoot if we are on the beat
		if ((ms+beat_anticipate)>((next_beat*2*60000)/bpm)) {
			next_beat+=1;
			combo_run(fire);
		}

		//swirl reticle if idle
		if (event_press(XB1_X)) {if (autoswirl==0) {autoswirl=1} else {autoswirl=0}}
		if (autoswirl==1 && get_val(XB1_RX)<=deadzone && get_val(XB1_RY)<=deadzone && get_val(XB1_RX)>=-deadzone && get_val(XB1_RY)>=-deadzone) {set_polar(POLAR_RS,ms%360,32767);}
	}
}

combo fire {
	set_val(XB1_RT,100);wait(50);
}